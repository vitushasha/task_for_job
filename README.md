# HardQode Тестовое задание
## ТЗ:
### **Построение архитектуры(6 баллов)**

В этом задании у нас есть три бизнес-задачи на хранение:

1. Создать сущность продукта. У продукта должен быть создатель этого продукта(автор/преподаватель). Название продукта, дата и время старта, стоимость **(1 балл)**
2. Определить, каким образом мы будем понимать, что у пользователя(клиент/студент) есть доступ к продукту. **(2 балл)**
3. Создать сущность урока. Урок может принадлежать только одному продукту.. В уроке должна быть базовая информация: название, ссылка на видео. **(1 балл)**
4. Создать сущность группы. По каждому продукту есть несколько групп пользователей, которые занимаются в этом продукте. Минимальное и максимальное количество юзеров в группе задается внутри продукта. Группа содержит следующую информацию: ученики, которые состоят в группе, название группы, принадлежность группы к продукту **(2 балла)**

### **Написание запросов и реализация логики распределения(11 баллов)**

В этом пункте потребуется использовать выполненную вами в прошлом задании архитектуру:

1. При получении доступа к продукту, распределять пользователя в группу. Если продукт ещё не начался, то можно пересобрать группы так, чтобы везде было примерно одинаковое количество участников.
    
    По-умолчанию алгоритм распределения должен работать заполняя до максимального значения **(5 баллов)**.
    
    **+3 балла** дается за реализацию алгоритма распределения по группам так, чтобы в каждой группе количество участников не отличалось больше, чем на 1. При этом, минимальные и максимальные значения участников в группе должны быть учтены.
    
2. Реализовать API на список продуктов, доступных для покупки, которое бы включало в себя основную информацию о продукте и количество уроков, которые принадлежат продукту. **(2 балла)**
3. Реализовать API с выведением списка уроков по конкретному продукту к которому пользователь имеет доступ. **(1 балл)**.

### **Результат выполнения:**

1. Выполненная архитектура на базе данных SQLite с использованием Django.
2. Реализованные API на базе готовой архитектуры.

# Описание проекта:
## Структура БД:
1. Модель Student:
   - "student_name" - Имя Студента
   - "products" - Список продуктов, к которым есть доступ (связь многие-ко-многим)
   - "is_addmitted" - Поле с булевым значением для подтверждения допуска
2. Модель Product:
   - "product_name" - Поле с названием предмета
   - "author" - Поле с автором/преподавателем (связь один-ко-многим)
   - "created" - Дата и время начала предмета
   - "cost" - Стоимость
   - "min_student_amount" - Минимальное количество участников
   - "max_student_amount" - Максимальное количество участников
3. Модель Lesson:
   - "lesson_name" - Поле с названием урока
   - "video_link" - Поле для ссылки на видео
   - "product" - Поле с соответствующим продуктом (связь один-ко-многим)
4. Модель Group:
   - "group_name" - Поле с названием группы
   - "product" - Поле с соответствующим продуктом (связь один-ко-многим)
   - "students" - Поле со списокм студентов (связь многие-ко-многим)
5. Модель Author:
   - "author_name" - Имя преподавателя

# Описание функционала:
### Данное приложение может записывать, изменять и удалять в бд информацию о предметах, группах, студентах, преподавателях и уроках.
### Для того, чтобы запустить приложение, нужно скачать все директории проекта и воспользоваться командой python manage.py runserver в командной строке, либо в ide, находясь в директории с файлом manage.py


    python manage.py runserver

### Получив на данную команду ответ:

    System check identified no issues (0 silenced).
    March 03, 2024 - 03:49:50
    Django version 5.0.2, using settings 'backend.settings'
    Starting development server at http://127.0.0.1:8000/
    Quit the server with CTRL-BREAK.

### Можно использовать адрес "http://127.0.0.1:8000/" для получения доступа к различным моделям из бд:
Перейдя по следующим ссылкам
   - Вы попадете на список существующих объектов (некоторые в базе данных уже сохранены)
   - А также в самом низу будет поле для добавления новой записи, где нужно указать информацию об объекте для каждого поля в формате словаря json
   - Чтобы просмотреть детальную информацию об объекте и внести изменение, нужно в конце адреса дописать через слеш id объекта
1. Продукты http://127.0.0.1:8000/distribution/products/
3. Студенты http://127.0.0.1:8000/distribution/students/
3. Уроки по При переходе по http://127.0.0.1:8000/distribution/lessons/
4. Группы по При переходе по http://127.0.0.1:8000/distribution/groups/
5. Преподаватели http://127.0.0.1:8000/distribution/groups/
6. http://127.0.0.1:8000/distribution/students/"slug"/ - список продуктов, доступных пользователю

### При заполнении поля "is_addmitted" модели Student значением True приложение автоматически распределит студента в группу, где есть свободное место, после перехода к списку студентов (данная функция описана в представлении, возвращающем список студентов)
